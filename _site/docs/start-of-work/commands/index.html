<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><link rel="shortcut icon" href="/phpstats/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="/phpstats/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/phpstats/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/phpstats/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><title>Commands | PhpStats Docs</title><meta name="generator" content="Jekyll v4.1.1" /><meta property="og:title" content="Commands" /><meta property="og:locale" content="en_US" /><meta name="description" content="Tool for colecting statistics and building dependency graphs" /><meta property="og:description" content="Tool for colecting statistics and building dependency graphs" /><link rel="canonical" href="http://localhost:4000/phpstats/docs/start-of-work/commands/" /><meta property="og:url" content="http://localhost:4000/phpstats/docs/start-of-work/commands/" /><meta property="og:site_name" content="PhpStats Docs" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Commands" /> <script type="application/ld+json"> {"@type":"WebPage","url":"http://localhost:4000/phpstats/docs/start-of-work/commands/","headline":"Commands","description":"Tool for colecting statistics and building dependency graphs","@context":"https://schema.org"}</script><body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"><title>Link</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"><title>Search</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"><title>Menu</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"><title>Expand</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"><title>Document</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg><div class="side-bar"><div class="site-header"> <a href="http://localhost:4000/phpstats/" class="site-title lh-tight"> PhpStats Docs </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a></div><nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"><ul class="nav-list"><li class="nav-list-item"><a href="http://localhost:4000/phpstats/" class="nav-list-link">Home</a><li class="nav-list-item"><a href="http://localhost:4000/phpstats/docs/installation/" class="nav-list-link">Installation</a><li class="nav-list-item"><a href="http://localhost:4000/phpstats/docs/configuration/" class="nav-list-link">Configuration</a><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/phpstats/docs/start-of-works" class="nav-list-link">Start of work</a><ul class="nav-list "><li class="nav-list-item active"><a href="http://localhost:4000/phpstats/docs/start-of-work/commands/" class="nav-list-link active">Commands</a></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/phpstats/docs/capabilities" class="nav-list-link">Capabilities</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/phpstats/docs/capabilities/metrics/" class="nav-list-link">Metrics</a><li class="nav-list-item "><a href="http://localhost:4000/phpstats/docs/capabilities/graphs/" class="nav-list-link">Building graphs</a><li class="nav-list-item "><a href="http://localhost:4000/phpstats/docs/capabilities/relations/" class="nav-list-link">Relations</a><li class="nav-list-item "><a href="http://localhost:4000/phpstats/docs/capabilities/brief-information/" class="nav-list-link">Brief information</a></ul></ul></nav><footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</footer></div><div class="main" id="top"><div id="main-header" class="main-header"><div class="search"><div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search PhpStats Docs" aria-label="Search PhpStats Docs" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label></div><div id="search-results" class="search-results"></div></div><nav aria-label="Auxiliary" class="aux-nav"><ul class="aux-nav-list"><li class="aux-nav-list-item"> <a href="//github.com/i582/phpstats" class="site-button" > PhpStats on GitHub </a></ul></nav></div><div id="main-content-wrap" class="main-content-wrap"><nav aria-label="Breadcrumb" class="breadcrumb-nav"><ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/phpstats/docs/start-of-works">Start of work</a><li class="breadcrumb-nav-list-item"><span>Commands</span></ol></nav><div id="main-content" class="main-content" role="main"><h1 class="no_toc" id="commands-in-the-interactive-shell"> <a href="#commands-in-the-interactive-shell" class="anchor-heading" aria-labelledby="commands-in-the-interactive-shell"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Commands in the interactive shell</h1><h2 class="no_toc text-delta" id="table-of-contents"> <a href="#table-of-contents" class="anchor-heading" aria-labelledby="table-of-contents"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Table of contents</h2><ol id="markdown-toc"><li><a href="#info" id="markdown-toc-info">info</a><li><a href="#list" id="markdown-toc-list">list</a><li><a href="#graph" id="markdown-toc-graph">graph</a><li><a href="#relation" id="markdown-toc-relation">relation</a><li><a href="#brief" id="markdown-toc-brief">brief</a><li><a href="#metrics" id="markdown-toc-metrics">metrics</a><li><a href="#about" id="markdown-toc-about">about</a><li><a href="#additional-commands" id="markdown-toc-additional-commands">Additional commands</a></ol><hr /><h2 id="info"> <a href="#info" class="anchor-heading" aria-labelledby="info"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> info</h2><p>The <code class="language-plaintext highlighter-rouge">info</code> command is used to get information about classes, files, functions and namespaces.</p><p>The command accepts the following subcommands:</p><ol><li><code class="language-plaintext highlighter-rouge">class</code> or <code class="language-plaintext highlighter-rouge">interface</code> — information about the class or interface;<li><code class="language-plaintext highlighter-rouge">func</code> or <code class="language-plaintext highlighter-rouge">method</code> — information about a function or method;<li><code class="language-plaintext highlighter-rouge">namespace</code> — information about the namespace;<li><code class="language-plaintext highlighter-rouge">file</code> — information about the file.</ol><p>For each subcommand, you need to pass the required name, be it a class or a function or something else. Please note that the search is <strong>not strict</strong>, so it is not necessary to enter the full name, however, if several options are suitable for the entered name, then you will receive the first of them, to get the desired one you need to specify the name.</p><h3 class="no_toc" id="example"> <a href="#example" class="anchor-heading" aria-labelledby="example"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example</h3><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt;&gt;&gt; info class Foo
</code></pre></div></div><p>Will show information about the <code class="language-plaintext highlighter-rouge">Foo</code> class:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt;&gt;&gt; info class Foo
Show info about Foo class

Class \Foo
  File:                          /path/to/file/with/foo/foo.php
  Afferent coupling:             0.00
  Efferent coupling:             3.00
  Instability:                   1.00
  Lack of Cohesion in Methods:   -1.00
  Lack of Cohesion in Methods 4: 1
  Count class dependencies:      3
  Count dependent classes:       0
</code></pre></div></div><h2 id="list"> <a href="#list" class="anchor-heading" aria-labelledby="list"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> list</h2><p>The <code class="language-plaintext highlighter-rouge">list</code> command is used to list classes, files, functions, and namespaces.</p><p>The command accepts the following subcommands:</p><ol><li><code class="language-plaintext highlighter-rouge">class</code> — list of classes;<li><code class="language-plaintext highlighter-rouge">interface</code> or <code class="language-plaintext highlighter-rouge">ifaces</code> — list of interfaces;<li><code class="language-plaintext highlighter-rouge">func</code> — list of functions;<li><code class="language-plaintext highlighter-rouge">method</code> — list of methods;<li><code class="language-plaintext highlighter-rouge">namespace</code> — list of namespaces;<li><code class="language-plaintext highlighter-rouge">file</code> — list of files.</ol><p>For each subcommand, you need to pass the required name, be it a class or a function or something else. Please note that the search is <strong>not strict</strong>, so it is not necessary to enter the full name, however, if several options are suitable for the entered name, then you will receive the first of them, to get the desired one you need to specify the name.</p><p>Also, each of the subcommands accepts the following flags:</p><ol><li><code class="language-plaintext highlighter-rouge">-c</code> — number of classes in the list;<li><code class="language-plaintext highlighter-rouge">-o</code> — shift of the list from the beginning;<li><code class="language-plaintext highlighter-rouge">--json</code> — path to the file for outputting information in the <code class="language-plaintext highlighter-rouge">json</code> format.<li><code class="language-plaintext highlighter-rouge">--sort</code> — column number by which sorting will be performed;<li><code class="language-plaintext highlighter-rouge">-r</code> — sort in reverse order.</ol><p>The <code class="language-plaintext highlighter-rouge">func</code> subcommand also accepts the following flag:</p><ol><li><code class="language-plaintext highlighter-rouge">-e</code> — flag, when built-in functions will be displayed in the list.</ol><p>The <code class="language-plaintext highlighter-rouge">namespace</code> subcommand also accepts the following flag:</p><ol><li><code class="language-plaintext highlighter-rouge">-l</code> — the level of namespaces to be displayed (default: 0 (top-level namespaces)).</ol><h3 class="no_toc" id="example-1"> <a href="#example-1" class="anchor-heading" aria-labelledby="example-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example</h3><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt;&gt;&gt; list classes -c 5 -o 2
</code></pre></div></div><p>Shows a list of classes of 5 elements starting with the 3rd:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt;&gt;&gt; list classes -c 5 -o 2
 #                      Name                      Aff     Eff    Instab   LCOM    LCOM 4   Class   Classes
                                                  coup   coup                              deps    depends
--- -------------------------------------------- ------ ------- -------- ------- -------- ------- ---------
 3   \Symfony\Component\DependencyInjection\      0.00   54.00     1.00   undef       55      54         0
     Tests\Compiler\AutowirePassTest
 4   \Symfony\Bundle\FrameworkBundle\             5.00   53.00     0.91   undef        2      53         5
     FrameworkBundle
 5   \Symfony\Component\Console\Tests\            0.00   48.00     1.00    0.95       79      48         0
     ApplicationTest
 6   \Symfony\Bundle\FrameworkBundle\Tests\       3.00   46.00     0.94    0.99        1      46         3
     DependencyInjection\FrameworkExtensionTest
 7   \Symfony\Component\Messenger\Tests\          0.00   44.00     1.00   undef        1      44         0
     DependencyInjection\MessengerPassTest
</code></pre></div></div><p>And the command:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt;&gt;&gt; list classes -c 5 -o 2 --json classes.json
</code></pre></div></div><p>Will output information to the file <code class="language-plaintext highlighter-rouge">classes.json</code>:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[
	{
		"name": "\\Symfony\\Component\\DependencyInjection\\Tests\\Compiler\\AutowirePassTest",
		"file": "/path/to/class",
		"type": "Class",
		"aff": 0,
		"eff": 54,
		"instab": 1,
		"lcom": -1,
		"lcom4": 55,
		"countDeps": 54,
		"countDepsBy": 0
	},
	...
]
</code></pre></div></div><h2 id="graph"> <a href="#graph" class="anchor-heading" aria-labelledby="graph"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> graph</h2><p>The <code class="language-plaintext highlighter-rouge">graph</code> command is used to create dependency graphs for classes, files, functions, and namespaces.</p><p>See <a href="/phpstats/docs/capabilities/graphs/">Building graphs</a> for details.</p><h2 id="relation"> <a href="#relation" class="anchor-heading" aria-labelledby="relation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> relation</h2><p>The <code class="language-plaintext highlighter-rouge">relation</code> command is used to collect statistics on relationships between classes and functions.</p><p>See <a href="/phpstats/docs/capabilities/relations/">Relationships between symbols</a> for details.</p><h2 id="brief"> <a href="#brief" class="anchor-heading" aria-labelledby="brief"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> brief</h2><p>The <code class="language-plaintext highlighter-rouge">brief</code> command is used to view brief information about the project.</p><p>See <a href="/phpstats/docs/capabilities/brief-information/">Brief information</a> for details.</p><h2 id="metrics"> <a href="#metrics" class="anchor-heading" aria-labelledby="metrics"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> metrics</h2><p>The <code class="language-plaintext highlighter-rouge">metrics</code> command is used to view brief information about the metrics being collected.</p><h3 class="no_toc" id="example-2"> <a href="#example-2" class="anchor-heading" aria-labelledby="example-2"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example</h3><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt;&gt;&gt; metrics
</code></pre></div></div><p>Will display information about the collected metrics:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt;&gt;&gt; metrics
A brief description of the metrics.

Afferent couplings (Ca):
        The number of classes in other packages that depend upon classes within
        the package is an indicator of the package's responsibility.

Efferent couplings (Ce):
        The number of classes in other packages that the classes in a package
        depend upon is an indicator of the package's dependence on externalities.

Instability (I):
        The ratio of efferent coupling (Ce) to total coupling (Ce + Ca) such that
        I = Ce / (Ce + Ca).
        This metric is an indicator of the package's resilience to change.
        The range for this metric is 0 to 1, with I=0 indicating a completely stable
        package and I=1 indicating a completely unstable package.

Abstractness (A):
        The ratio of the number of abstract classes in a group to the total number of classes.
        A = nA / nAll.
        nA   - the number of abstract classes in a group.
        nAll - the total number of classes.

        0 = the category is completely concrete.
        1 = the category is completely abstract.

Lack of Cohesion in Methods (LCOM):
        The result of subtracting from one the sum of the number of methods (CM_i)
        that refer to a certain class field (i) for all fields, divided by the number
        of methods (CM) multiplied by the number of fields (CF).

        LCOM = 1 - (\Sum{i eq [0, CF]}{CM_i}) / (CM * CF))

Lack of Cohesion in Methods 4 (LCOM4):
        The number of "connected components" in a class.
        A connected component is a set of related methods (and class-level variables).
        There should be only one such a component in each class.
        If there are 2 or more components, the class should be split into so many smaller classes.

        Which methods are related? Methods a and b are related if:

          - they both access the same class-level variable, or
          - a calls b, or b calls a.

        After determining the related methods, we draw a graph linking the related methods
        (use the 'graph lcom4' command to build the graph) to each other.
        LCOM4 equals the number of connected groups of methods.

          - LCOM4=1  indicates a cohesive class, which is the "good" class.
          - LCOM4&gt;=2 indicates a problem. The class should be split into so many smaller classes.
          - LCOM4=0  happens when there are no methods in a class. This is also a "bad" class.

        Information from https://www.aivosto.com/project/help/pm-oo-cohesion.html#LCOM4

Cyclomatic complexity (CC):
        The number of decision points.
        Cyclomatic complexity is basically a metric to figure out areas of code that needs
        more attention for the maintainability. It would be basically an input to the refactoring.
        It definitely gives an indication of code improvement area in terms of avoiding deep
        nested loop, conditions etc.

        The decision points is conditional statements like if, for, while, foreach, case, default,
        continue, break, goto, catch, ternary. coalesce, or, and.

Count of magic numbers (CMN):
        Magic numbers are any number in code that isn't immediately obvious to someone
        with very little knowledge.

        Code with magic numbers is more difficult to understand and refactor, as it is not
        always obvious what the author meant by it. The more magic numbers, the more difficult
        it is to refactor the given code.

PHPStats (c) 2020
</code></pre></div></div><h2 id="about"> <a href="#about" class="anchor-heading" aria-labelledby="about"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> about</h2><p>The <code class="language-plaintext highlighter-rouge">about</code> command is used to show general information about PhpStats.</p><h1 id="additional-commands"> <a href="#additional-commands" class="anchor-heading" aria-labelledby="additional-commands"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Additional commands</h1><p>Also, in addition to the commands above, there are commands for interacting with the interactive shell.</p><ol><li><code class="language-plaintext highlighter-rouge">help</code> — shows a page with all valid commands;<li><code class="language-plaintext highlighter-rouge">clear</code> — clears the console;<li><code class="language-plaintext highlighter-rouge">exit</code> — exits the interactive shell.</ol><hr><footer><p><a href="#top" id="back-to-top">Back to top</a></p><p class="text-small text-grey-dk-100 mb-0">Copyright &copy; 2020-2020 Makhnev Petr. Distributed by an <a href="https://github.com/i582/phpstats/tree/master/LICENSE.txt">MIT license.</a></p><div class="d-flex mt-2"><p class="text-small text-grey-dk-000 mb-0"> <a href="https://github.com/pmarsceill/just-the-docs/tree/master/docs/start-of-work/commands.md" id="edit-this-page">Edit this page on GitHub</a></p></div></footer></div></div><div class="search-overlay"></div></div>
