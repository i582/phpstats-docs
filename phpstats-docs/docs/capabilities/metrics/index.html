<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><link rel="shortcut icon" href="/phpstats-docs/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/phpstats-docs/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/phpstats-docs/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/phpstats-docs/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><title>Metrics | PhpStats Docs</title><meta name="generator" content="Jekyll v3.9.0" /><meta property="og:title" content="Metrics" /><meta property="og:locale" content="en_US" /><meta name="description" content="Tool for colecting statistics and building dependency graphs" /><meta property="og:description" content="Tool for colecting statistics and building dependency graphs" /><link rel="canonical" href="http://localhost:4000/phpstats-docs/docs/capabilities/metrics/" /><meta property="og:url" content="http://localhost:4000/phpstats-docs/docs/capabilities/metrics/" /><meta property="og:site_name" content="PhpStats Docs" /> <script type="application/ld+json"> {"@type":"WebPage","url":"http://localhost:4000/phpstats-docs/docs/capabilities/metrics/","headline":"Metrics","description":"Tool for colecting statistics and building dependency graphs","@context":"https://schema.org"}</script><body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"><title>Link</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"><title>Search</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"><title>Menu</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"><title>Expand</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"><title>Document</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg><div class="side-bar"><div class="site-header"> <a href="http://localhost:4000/phpstats-docs/" class="site-title lh-tight"> PhpStats Docs </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a></div><nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"><ul class="nav-list"><li class="nav-list-item"><a href="http://localhost:4000/phpstats-docs/" class="nav-list-link">Home</a><li class="nav-list-item"><a href="http://localhost:4000/phpstats-docs/docs/installation/" class="nav-list-link">Installation</a><li class="nav-list-item"><a href="http://localhost:4000/phpstats-docs/docs/configuration/" class="nav-list-link">Configuration</a><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/phpstats-docs/docs/start-of-works" class="nav-list-link">Start of work</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/phpstats-docs/docs/start-of-work/commands/" class="nav-list-link">Commands</a></ul><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/phpstats-docs/docs/capabilities" class="nav-list-link">Capabilities</a><ul class="nav-list "><li class="nav-list-item active"><a href="http://localhost:4000/phpstats-docs/docs/capabilities/metrics/" class="nav-list-link active">Metrics</a><li class="nav-list-item "><a href="http://localhost:4000/phpstats-docs/docs/capabilities/graphs/" class="nav-list-link">Building graphs</a><li class="nav-list-item "><a href="http://localhost:4000/phpstats-docs/docs/capabilities/relations/" class="nav-list-link">Relations</a><li class="nav-list-item "><a href="http://localhost:4000/phpstats-docs/docs/capabilities/function_reachability/" class="nav-list-link">Function reachability</a><li class="nav-list-item "><a href="http://localhost:4000/phpstats-docs/docs/capabilities/brief-information/" class="nav-list-link">Brief information</a></ul></ul></nav><footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</footer></div><div class="main" id="top"><div id="main-header" class="main-header"><div class="search"><div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search PhpStats Docs" aria-label="Search PhpStats Docs" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label></div><div id="search-results" class="search-results"></div></div><nav aria-label="Auxiliary" class="aux-nav"><ul class="aux-nav-list"><li class="aux-nav-list-item"> <a href="//github.com/i582/phpstats" class="site-button" > PhpStats on GitHub </a></ul></nav></div><div id="main-content-wrap" class="main-content-wrap"><nav aria-label="Breadcrumb" class="breadcrumb-nav"><ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/phpstats-docs/docs/capabilities">Capabilities</a><li class="breadcrumb-nav-list-item"><span>Metrics</span></ol></nav><div id="main-content" class="main-content" role="main"><h1 class="no_toc" id="metrics"> <a href="#metrics" class="anchor-heading" aria-labelledby="metrics"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Metrics</h1><h2 class="no_toc text-delta" id="table-of-contents"> <a href="#table-of-contents" class="anchor-heading" aria-labelledby="table-of-contents"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Table of contents</h2><ol id="markdown-toc"><li><a href="#available-metrics" id="markdown-toc-available-metrics">Available metrics</a><ol><li><a href="#afferent-couplings-ca" id="markdown-toc-afferent-couplings-ca">Afferent couplings (Ca)</a><li><a href="#efferent-couplings-ce" id="markdown-toc-efferent-couplings-ce">Efferent couplings (Ce)</a><li><a href="#instability-i" id="markdown-toc-instability-i">Instability (I)</a><li><a href="#abstractness-a" id="markdown-toc-abstractness-a">Abstractness (A)</a><li><a href="#lack-of-cohesion-in-methods-lcom" id="markdown-toc-lack-of-cohesion-in-methods-lcom">Lack of Cohesion in Methods (LCOM)</a><li><a href="#lack-of-cohesion-in-methods-4-lcom4" id="markdown-toc-lack-of-cohesion-in-methods-4-lcom4">Lack of Cohesion in Methods 4 (LCOM4)</a><li><a href="#cyclomatic-complexity-cc" id="markdown-toc-cyclomatic-complexity-cc">Cyclomatic complexity (CC)</a><li><a href="#count-of-magic-numbers-cmn" id="markdown-toc-count-of-magic-numbers-cmn">Count of magic numbers (CMN)</a><li><a href="#count-fully-typed-methods-cftm" id="markdown-toc-count-fully-typed-methods-cftm">Count fully typed methods (CFTM)</a></ol></ol><hr /><p><strong>PhpStats</strong> collects various quality metrics of the code, which can be used to determine the quality of the project as a whole, or, for example, of the class in particular.</p><p>There is no separate command for getting metrics, since metrics are displayed in the information about the symbol. So, for example, to get the LCOM4 metric for a certain class, you need to use the <code class="language-plaintext highlighter-rouge">info class</code> command for which write the name of the required class. The received class information will contain a field describing the LCOM4 metric. See the detailed description of the <code class="language-plaintext highlighter-rouge">info</code> command <a href="/phpstats-docs/docs/start-of-work/commands#info">here</a>.</p><p>Another option to get the value of the metrics is the <code class="language-plaintext highlighter-rouge">list</code> command, which will list classes, functions, etc. with all calculated metrics. See the detailed description of the <code class="language-plaintext highlighter-rouge">list</code> command <a href="/phpstats-docs/docs/start-of-work/commands#list">here</a>.</p><h2 id="available-metrics"> <a href="#available-metrics" class="anchor-heading" aria-labelledby="available-metrics"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Available metrics</h2><p>PhpStats currently calculates the following metrics:</p><ol><li>Afferent couplings:<li>Efferent couplings:<li>Instability:<li>Abstractness;<li>Lack of Cohesion in Methods;<li>Lack of Cohesion in Methods 4 (or the number of connected components of the class.);<li>Cyclomatic Complexity;<li>Count of magic numbers in functions and methods.</ol><h3 id="afferent-couplings-ca"> <a href="#afferent-couplings-ca" class="anchor-heading" aria-labelledby="afferent-couplings-ca"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Afferent couplings (Ca)</h3><p>The number of classes in other packages that depend upon classes within the package is an indicator of the package’s responsibility.</p><h3 id="efferent-couplings-ce"> <a href="#efferent-couplings-ce" class="anchor-heading" aria-labelledby="efferent-couplings-ce"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Efferent couplings (Ce)</h3><p>The number of classes in other packages that the classes in a package depend upon is an indicator of the package’s dependence on externalities.</p><h3 id="instability-i"> <a href="#instability-i" class="anchor-heading" aria-labelledby="instability-i"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Instability (I)</h3><p>The ratio of efferent coupling (Ce) to total coupling (Ce + Ca).</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>I = Ce / (Ce + Ca)
</code></pre></div></div><p>This metric is an indicator of the package’s resilience to change. The range for this metric is 0 to 1, with I=0 indicating a completely stable package and I=1 indicating a completely unstable package.</p><h3 id="abstractness-a"> <a href="#abstractness-a" class="anchor-heading" aria-labelledby="abstractness-a"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Abstractness (A)</h3><p>The ratio of the number of abstract classes in a group to the total number of classes.</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>A = nA / nAll.
</code></pre></div></div><ul><li>nA — the number of abstract classes in a group;<li>nAll — the total number of classes.</ul><p>The range for this metric is 0 to 1:</p><ul><li>0 — the category is completely concrete;<li>1 — the category is completely abstract.</ul><h3 id="lack-of-cohesion-in-methods-lcom"> <a href="#lack-of-cohesion-in-methods-lcom" class="anchor-heading" aria-labelledby="lack-of-cohesion-in-methods-lcom"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Lack of Cohesion in Methods (LCOM)</h3><p>The result of subtracting from one the sum of the number of methods (CM_i) that refer to a certain class field (i) for all fields, divided by the number of methods (CM) multiplied by the number of fields (CF).</p><h3 id="lack-of-cohesion-in-methods-4-lcom4"> <a href="#lack-of-cohesion-in-methods-4-lcom4" class="anchor-heading" aria-labelledby="lack-of-cohesion-in-methods-4-lcom4"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Lack of Cohesion in Methods 4 (LCOM4)</h3><p>The number of “connected components” in a class. A connected component is a set of related methods (and class-level variables). There should be only one such a component in each class. If there are 2 or more components, the class should be split into so many smaller classes.</p><p>Which methods are related? Methods a and b are related if:</p><ul><li>they both access the same class-level variable, or<li>a calls b, or b calls a.</ul><p>After determining the related methods, we draw a graph linking the related methods (use the ‘graph lcom4’ command to build the graph) to each other. LCOM4 equals the number of connected groups of methods.</p><ul><li>LCOM4=1 indicates a cohesive class, which is the “good” class.<li>LCOM4&gt;=2 indicates a problem. The class should be split into so many smaller classes.<li>LCOM4=0 happens when there are no methods in a class. This is also a “bad” class.</ul><p>Information from https://www.aivosto.com/project/help/pm-oo-cohesion.html#LCOM4</p><h3 id="cyclomatic-complexity-cc"> <a href="#cyclomatic-complexity-cc" class="anchor-heading" aria-labelledby="cyclomatic-complexity-cc"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Cyclomatic complexity (CC)</h3><p>The number of decision points.</p><p>Cyclomatic complexity is basically a metric to figure out areas of code that needs more attention for the maintainability. It would be basically an input to the refactoring. It definitely gives an indication of code improvement area in terms of avoiding deep nested loop, conditions etc.</p><p>The decision points is conditional statements like <code class="language-plaintext highlighter-rouge">if</code>, <code class="language-plaintext highlighter-rouge">for</code>, <code class="language-plaintext highlighter-rouge">while</code>, <code class="language-plaintext highlighter-rouge">foreach</code>, <code class="language-plaintext highlighter-rouge">case</code>, <code class="language-plaintext highlighter-rouge">default</code>, <code class="language-plaintext highlighter-rouge">continue</code>, <code class="language-plaintext highlighter-rouge">break</code>, <code class="language-plaintext highlighter-rouge">goto</code>, <code class="language-plaintext highlighter-rouge">catch</code>, <code class="language-plaintext highlighter-rouge">ternary</code>, <code class="language-plaintext highlighter-rouge">coalesce</code>, <code class="language-plaintext highlighter-rouge">or</code>, <code class="language-plaintext highlighter-rouge">and</code>.</p><h3 id="count-of-magic-numbers-cmn"> <a href="#count-of-magic-numbers-cmn" class="anchor-heading" aria-labelledby="count-of-magic-numbers-cmn"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Count of magic numbers (CMN)</h3><p>Magic numbers are any number in code that isn’t immediately obvious to someone with very little knowledge.</p><p>Code with magic numbers is more difficult to understand and refactor, as it is not always obvious what the author meant by it. The more magic numbers, the more difficult it is to refactor the given code.</p><h3 id="count-fully-typed-methods-cftm"> <a href="#count-fully-typed-methods-cftm" class="anchor-heading" aria-labelledby="count-fully-typed-methods-cftm"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Count fully typed methods (CFTM)</h3><p>The number of methods in the class for which there is a type hint for each parameter, as well as the return type.</p><hr><footer><p><a href="#top" id="back-to-top">Back to top</a></p><p class="text-small text-grey-dk-100 mb-0">Copyright &copy; 2020-2020 Makhnev Petr. Distributed by an <a href="https://github.com/i582/phpstats/tree/master/LICENSE.txt">MIT license.</a></p><div class="d-flex mt-2"><p class="text-small text-grey-dk-000 mb-0"> <a href="https://github.com/i582/phpstats-docs/tree/master/docs/capabilities/metrics.md" id="edit-this-page">Edit this page on GitHub</a></p></div></footer></div></div><div class="search-overlay"></div></div>
